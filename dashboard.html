<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'nonce-OGY1ZmVhYWEtOGRlNy00YjRhLTk4NzEtNjY2OWU2MGNiN2Y2' 'strict-dynamic' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net;
        img-src 'self' blob: data: https://assets.grok.com https://imgs.search.brave.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net;
        font-src 'self' https://fonts.gstatic.com;
        connect-src 'self' https://api.grok.com;
    ">
    <title>Nepali Calendar 2082 - Dashboard</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Noto+Sans+Devanagari:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/shared.css">
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
    <header class="bg-gradient-primary text-white text-center">
        <h1 class="header-title" data-en="Nepali Calendar" data-ne="नेपाली पात्रो">Nepali Calendar</h1>
        <p class="design-credit">Calendar Concept and Design by Santosh Phuyal</p>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html" data-en="Home" data-ne="होम">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="calendar.html" data-en="Calendar" data-ne="पात्रो">Calendar</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="finance.html" data-en="Finance" data-ne="वित्त">Finance</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="notes.html" data-en="Notes" data-ne="नोटहरू">Notes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="dashboard.html" data-en="Dashboard" data-ne="ड्यासबोर्ड">Dashboard</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container mt-4">
        <div class="language-toggle text-center mb-3">
            <button id="languageToggle" class="btn btn-outline-primary" data-en="Toggle Language (EN/NE)" data-ne="भाषा टगल गर्नुहोस् (EN/NE)" aria-label="Toggle Language">Toggle Language (EN/NE)</button>
            <button id="darkModeToggle" class="btn btn-outline-primary ms-2" data-en="Dark Mode" data-ne="डार्क मोड" aria-label="Toggle Dark Mode">Dark Mode</button>
        </div>
        <div class="row">
            <div class="col-12 col-md-6 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h3 data-en="Financial Summary (2082)" data-ne="वित्तीय सारांश (२०८२)">Financial Summary (2082)</h3>
                        <p><strong data-en="Total Income:" data-ne="कुल आय:">Total Income:</strong> <span id="totalIncome">0 NPR</span></p>
                        <p><strong data-en="Total Expenses:" data-ne="कुल खर्च:">Total Expenses:</strong> <span id="totalExpenses">0 NPR</span></p>
                        <p><strong data-en="Net Balance:" data-ne="नेट ब्यालेन्स:">Net Balance:</strong> <span id="netBalance">0 NPR</span></p>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h3 data-en="Notes Summary" data-ne="नोटहरूको सारांश">Notes Summary</h3>
                        <canvas id="notesChart" aria-label="Notes per Month Chart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h3 data-en="Upcoming Holidays" data-ne="आगामी बिदाहरू">Upcoming Holidays</h3>
                        <ul id="upcomingHolidays"></ul>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h3 data-en="Upcoming Reminders" data-ne="आगामी रिमाइन्डरहरू">Upcoming Reminders</h3>
                        <ul id="upcomingReminders"></ul>
                    </div>
                </div>
            </div>
            <div class="col-12 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h3 data-en="Monthly Financial Trends" data-ne="मासिक वित्तीय प्रवृत्तिहरू">Monthly Financial Trends</h3>
                        <canvas id="financialTrendsChart" aria-label="Monthly Financial Trends Chart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="bg-light text-center py-3">
        <p class="design-credit">Calendar Concept and Design by Santosh Phuyal</p>
    </footer>
    <script nonce="OGY1ZmVhYWEtOGRlNy00YjRhLTk4NzEtNjY2OWU2MGNiN2Y2" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script nonce="OGY1ZmVhYWEtOGRlNy00YjRhLTk4NzEtNjY2OWU2MGNiN2Y2" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script nonce="OGY1ZmVhYWEtOGRlNy00YjRhLTk4NzEtNjY2OWU2MGNiN2Y2" src="/js/shared.js"></script>
    <script nonce="OGY1ZmVhYWEtOGRlNy00YjRhLTk4NzEtNjY2OWU2MGNiN2Y2" src="/js/dashboard.js"></script>
</body>
</html>